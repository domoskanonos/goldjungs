<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Die Goldjungs – Jump'n'Run</title>
  <!-- Phaser 3 über CDN laden -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>
  <style>
    body {
      margin: 0;
      background: #87ceeb; /* Himmelblau */
    }
    canvas {
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
<script>
  // Konfiguration des Spiels
  const config = {
    type: Phaser.AUTO,
    width: 800,
    height: 450,
    physics: {
      default: 'arcade',
      arcade: {
        gravity: { y: 500 },
        debug: false
      }
    },
    scene: {
      preload: preload,
      create: create,
      update: update
    }
  };

  // Neues Spiel erstellen
  const game = new Phaser.Game(config);
  let player;
  let cursors;
  let ground;
  let titleText;

  function preload() {
    // Lade Beispiel-Assets (Platzhalterbilder)
    // Ersetze diese URLs später durch eigene Grafiken für die Goldjungs-Charaktere und Umgebungen.
    this.load.image('ground', 'https://labs.phaser.io/assets/sprites/platform.png');
    this.load.image('player', 'https://labs.phaser.io/assets/sprites/phaser-dude.png');
  }

  function create() {
    // Erstelle den Boden als statische Plattform
    ground = this.physics.add.staticGroup();
    // Erstelle eine Bodenplattform in der Mitte des Bildschirms
    ground.create(400, 425, 'ground').setScale(2).refreshBody();

    // Erstelle den Spieler (als Platzhalter, später kannst du hier verschiedene Charaktere einbinden)
    player = this.physics.add.sprite(100, 300, 'player');
    player.setBounce(0.1);
    player.setCollideWorldBounds(true);

    // Füge Kollisionsabfrage zwischen Spieler und Boden hinzu
    this.physics.add.collider(player, ground);

    // Eingaben über die Cursor-Tasten
    cursors = this.input.keyboard.createCursorKeys();

    // Füge den Titel oben im Spiel hinzu
    titleText = this.add.text(400, 50, 'Die Goldjungs', { font: '32px fantasy', fill: '#000' });
    titleText.setOrigin(0.5);
  }

  function update() {
    // Spielerbewegung: Links und Rechts
    if (cursors.left.isDown) {
      player.setVelocityX(-160);
      player.flipX = true;
    } else if (cursors.right.isDown) {
      player.setVelocityX(160);
      player.flipX = false;
    } else {
      player.setVelocityX(0);
    }

    // Springen: Nur wenn der Spieler den Boden berührt
    if (cursors.up.isDown && player.body.touching.down) {
      player.setVelocityY(-330);
    }
  }
</script>
</body>
</html>
